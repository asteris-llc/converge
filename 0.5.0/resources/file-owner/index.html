<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>file.owner - Converge</title>
    <meta name="generator" content="Hugo 0.17" />

    
    <meta name="description" content="graph your configurations!">
    
    <link rel="canonical" href="http://converge.aster.is/0.5.0/resources/file-owner/">
    
    <meta name="author" content="Converge">
    

    <meta property="og:url" content="http://converge.aster.is/0.5.0/resources/file-owner/">
    <meta property="og:title" content="Converge">
    <meta property="og:image" content="http://converge.aster.is/0.5.0/images/logo/Converge_Logo_Blue.png">
    <meta name="apple-mobile-web-app-title" content="Converge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://converge.aster.is/0.5.0/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="http://converge.aster.is/0.5.0/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://converge.aster.is/0.5.0/fonts/icon.eot?52m981');
        src: url('http://converge.aster.is/0.5.0/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('http://converge.aster.is/0.5.0/fonts/icon.woff?52m981')
               format('woff'),
             url('http://converge.aster.is/0.5.0/fonts/icon.ttf?52m981')
               format('truetype'),
             url('http://converge.aster.is/0.5.0/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://converge.aster.is/0.5.0/stylesheets/application.css">
    <link rel="stylesheet" href="http://converge.aster.is/0.5.0/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://converge.aster.is/0.5.0/stylesheets/highlight/converge.css">
    <link rel="stylesheet" href="http://converge.aster.is/0.5.0/stylesheets/overrides.css"/>

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu%2bMono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://converge.aster.is/0.5.0/javascripts/modernizr.js"></script>

    

  </head>
  <body>



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        file.owner
      </div>
    </div>

    
    <div class="button button-twitter" role="button" aria-label="Twitter">
       <a href="https://twitter.com/asteris_llc" title="@asteris_llc on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
    </div>
    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/asteris-llc/converge" title="@asteris-llc/converge on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/asteris-llc/converge" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://converge.aster.is/0.5.0/images/logo/Converge_Logo_Blue.png">
        </div>
      
      <div class="name">
        <strong>Converge <span class="version">0.5.0</span></strong>
        
          <br>
          asteris-llc/converge
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/asteris-llc/converge/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/asteris-llc/converge/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
    <a  title="Converge" href="http://converge.aster.is/0.5.0/">
  
  Converge
</a>

    
    <ul>
        
        
        <a  title="Install" href="http://converge.aster.is/0.5.0/install/">
  
  Install
</a>
        
        
        <a  title="Platform Detection" href="http://converge.aster.is/0.5.0/platform/">
  
  Platform Detection
</a>
        
        
        <a  title="Getting Started" href="http://converge.aster.is/0.5.0/getting-started/">
  
  Getting Started
</a>
        
        
        <a  title="Module Verification" href="http://converge.aster.is/0.5.0/module-verification/">
  
  Module Verification
</a>
        
        
        <a  title="Using Dependencies" href="http://converge.aster.is/0.5.0/dependencies/">
  
  Using Dependencies
</a>
        
        
        <a  title="Params and Templates" href="http://converge.aster.is/0.5.0/params-and-templates/">
  
  Params and Templates
</a>
        
        
        <a  title="Server" href="http://converge.aster.is/0.5.0/server/">
  
  Server
</a>
        
        
        <a  title="Configuration" href="http://converge.aster.is/0.5.0/configuration/">
  
  Configuration
</a>
        
        
        <a  title="Resource Authors Guide" href="http://converge.aster.is/0.5.0/resource-authors-guide/">
  
  Resource Authors Guide
</a>
        
    </ul>
    
</li>



<li>
    <a  title="License" href="http://converge.aster.is/0.5.0/license/">
  
  License
</a>

    
</li>



<li>
    <a  title="Resource Reference" href="http://converge.aster.is/0.5.0/resources/">
  
  Resource Reference
</a>

    
    <ul>
        
        
        <a  title="docker.container" href="http://converge.aster.is/0.5.0/resources/docker-container/">
  
  docker.container
</a>
        
        
        <a  title="docker.image" href="http://converge.aster.is/0.5.0/resources/docker-image/">
  
  docker.image
</a>
        
        
        <a  title="docker.network" href="http://converge.aster.is/0.5.0/resources/docker-network/">
  
  docker.network
</a>
        
        
        <a  title="docker.volume" href="http://converge.aster.is/0.5.0/resources/docker-volume/">
  
  docker.volume
</a>
        
        
        <a  title="file.content" href="http://converge.aster.is/0.5.0/resources/file-content/">
  
  file.content
</a>
        
        
        <a  title="file.directory" href="http://converge.aster.is/0.5.0/resources/file-directory/">
  
  file.directory
</a>
        
        
        <a  title="file.fetch" href="http://converge.aster.is/0.5.0/resources/file-fetch/">
  
  file.fetch
</a>
        
        
        <a  title="file.mode" href="http://converge.aster.is/0.5.0/resources/file-mode/">
  
  file.mode
</a>
        
        
        <a class="current" title="file.owner" href="http://converge.aster.is/0.5.0/resources/file-owner/">
  
  file.owner
</a>
<ul id="scrollspy">
</ul>

        
        
        <a  title="filesystem" href="http://converge.aster.is/0.5.0/resources/filesystem/">
  
  filesystem
</a>
        
        
        <a  title="lvm.logicalvolume" href="http://converge.aster.is/0.5.0/resources/lvm-logicalvolume/">
  
  lvm.logicalvolume
</a>
        
        
        <a  title="lvm.volumegroup" href="http://converge.aster.is/0.5.0/resources/lvm-volumegroup/">
  
  lvm.volumegroup
</a>
        
        
        <a  title="module" href="http://converge.aster.is/0.5.0/resources/module/">
  
  module
</a>
        
        
        <a  title="package.apt" href="http://converge.aster.is/0.5.0/resources/package-apt/">
  
  package.apt
</a>
        
        
        <a  title="package.rpm" href="http://converge.aster.is/0.5.0/resources/package-rpm/">
  
  package.rpm
</a>
        
        
        <a  title="param" href="http://converge.aster.is/0.5.0/resources/param/">
  
  param
</a>
        
        
        <a  title="task" href="http://converge.aster.is/0.5.0/resources/task/">
  
  task
</a>
        
        
        <a  title="task.query" href="http://converge.aster.is/0.5.0/resources/task-query/">
  
  task.query
</a>
        
        
        <a  title="user.group" href="http://converge.aster.is/0.5.0/resources/user-group/">
  
  user.group
</a>
        
        
        <a  title="user.user" href="http://converge.aster.is/0.5.0/resources/user-user/">
  
  user.user
</a>
        
        
        <a  title="wait.port" href="http://converge.aster.is/0.5.0/resources/wait-port/">
  
  wait.port
</a>
        
        
        <a  title="wait.query" href="http://converge.aster.is/0.5.0/resources/wait-query/">
  
  wait.query
</a>
        
    </ul>
    
</li>



<li>
    <a  title="Release Notes" href="http://converge.aster.is/0.5.0/release-notes/">
  
  Release Notes
</a>

    
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          
          <li>
            <a href="https://twitter.com/asteris_llc" target="_blank" title="@asteris_llc on Twitter">
              @asteris_llc on Twitter
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/asteris-llc/converge" target="_blank" title="@asteris-llc/converge on GitHub">
              @asteris-llc/converge on GitHub
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>file.owner </h1>

			

<p>Owner sets the file and group ownership of a file or directory.  If
<code>recursive</code> is set to true and <code>destination</code> is a directory, then it will
also recursively change ownership of all files and subdirectories.  Symlinks
are ignored.  If the file or directory does not exist during the plan phase
of application the differences will be calculated during application.
Otherwise changes will be limited to the files identified during the plan
phase of application.</p>

<h2 id="example">Example</h2>

<pre><code class="language-hcl">/* This file demonstrates proper usage of the file.owner module by creating a
 new file, then changing the ownership of that file to a different group. */

file.content &quot;to-change&quot; {
  destination = &quot;tochange&quot;
}

task.query &quot;existing-group&quot; {
  interpreter = &quot;/bin/bash&quot;
  query       = &quot;echo -n $(ls -la {{lookup `file.content.to-change.destination`}} | awk '{print $4}')&quot;
}

task.query &quot;new-group&quot; {
  interpreter = &quot;/bin/bash&quot;
  query       = &quot;echo -n $(groups | xargs -n 1 echo | grep -v $(whoami) | grep -v {{lookup `task.query.existing-group.status.stdout`}} | head -n1)&quot;
}

file.owner &quot;owner-test&quot; {
  destination = &quot;{{lookup `file.content.to-change.destination`}}&quot;
  group       = &quot;{{lookup `task.query.new-group.status.stdout`}}&quot;
}

</code></pre>

<h2 id="parameters">Parameters</h2>

<p>Here are the HCL fields that you can specify, along with their expected types
and restrictions:</p>

<ul>
<li><code>destination</code> (required string)</li>
</ul>

<p>Destination is the location on disk where the content will be rendered.</p>

<ul>
<li><code>recursive</code> (bool)</li>
</ul>

<p>Recursive indicates whether ownership changes should be applied
recursively.  Symlinks are not followed.</p>

<ul>
<li><code>user</code> (string)</li>
</ul>

<p>Username specifies user-owernship by user name</p>

<ul>
<li><p><code>uid</code> (optional int)</p>

<p>Only one of <code>user</code> or <code>uid</code> may be set.</p></li>
</ul>

<p>UID specifies user-ownership by UID</p>

<ul>
<li><p><code>group</code> (string)</p>

<p>Only one of <code>group</code> or <code>gid</code> may be set.</p></li>
</ul>

<p>Groupname specifies group-ownership by groupname</p>

<ul>
<li><p><code>gid</code> (optional int)</p>

<p>Only one of <code>group</code> or <code>gid</code> may be set.</p></li>
</ul>

<p>GID specifies group ownership by gid</p>

<ul>
<li><code>verbose</code> (bool)</li>
</ul>

<p>Verbose specifies that when performing recursive updates, a diff should be
shown for each file to be changed</p>

<h2 id="exported-fields">Exported Fields</h2>

<p>Here are the fields that are exported for use with &lsquo;lookup&rsquo;.  Re-exported fields
will have their own fields exported under the re-exported namespace.</p>

<ul>
<li><code>destination</code> (string)</li>
</ul>

<p>the path to the file that should change; or if <code>recursive</code> is set, the path
to the root of the filesystem to recursively change.</p>

<ul>
<li><code>username</code> (string)</li>
</ul>

<p>the username of the user that should be given ownership of the file</p>

<ul>
<li><code>uid</code> (string)</li>
</ul>

<p>the uid of the user that should be given ownership of the file</p>

<ul>
<li><code>group</code> (string)</li>
</ul>

<p>the group name of the group that should be given ownership of the file</p>

<ul>
<li><code>gid</code> (string)</li>
</ul>

<p>the gid of the group that should be given ownership of the file</p>

<ul>
<li><code>recursive</code> (bool)</li>
</ul>

<p>if true, and <code>destination</code> is a directory, apply changes recursively</p>


			<aside class="copyright" role="note">
				
				&copy; 2016 Released under the Apache 2.0 license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="http://converge.aster.is/0.5.0/release-notes/0-5-0/" title="0.5.0">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              0.5.0
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="http://converge.aster.is/0.5.0/resources/filesystem/" title="filesystem">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              filesystem
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'http:\/\/converge.aster.is\/0.5.0\/';
      var repo_id  = 'asteris-llc\/converge';
    
    </script>

    <script src="http://converge.aster.is/0.5.0/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="http://converge.aster.is/0.5.0/javascripts/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

